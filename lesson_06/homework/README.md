# Домашнее задание

## Чемпионат мира по хоккею со штангой

В чемпионате участвуют несколько команд. Каждая команда представлена кортежем:

```elixir
{:team, name, players}
```

Где players -- это список игроков. Игрок представлен кортежем:

```elixir
{player, name, age, rating, health}
```

В целом структура данных, описывающая чемпионат, выглядит так:

```elixir
championship = [
    {:team, "Crazy Bulls",
        [{:player, "Big Bull", 22, 545, 100},
         {:player, "Small Bull", 18, 324, 95}]},
    {:team, "Cool Horses",
        [{:player, "Lazy Horse", 21, 423, 80},
         {:player, "Sleepy Horse", 23, 101, 55}]}
]
```

### Собрать статистику по чемпионату

Нужно реализовать функцию, которая на вход принимает структуру данных, описывающую чемпионат, и на выходе отдает кортеж:

```elixir
{num_teams, num_players, avg_age, avg_rating}
```

где

 - **num_teams** -- число команд в чемпионате;
 - **num_players** -- число игроков в чемпионате;
 - **avg_age** -- средний возраст игрока;
 - **avg_rating** -- средний рейтинг игрока.

Например, для указанной выше структуры результат должен быть:

```elixir
{2, 4, 21.0, 348.25}
```

### Убрать из чемпионата больных игроков

К несчастью, незадолго до чемпионата началась эпидемия крокодильего гриппа. Многие игроки серьезно заболели. Их здоровье (health) стало меньше 50 единиц. Таких игроков нужно удалить из команд.

В результате может оказаться, что в команде осталось слишком мало игроков. Команды, где число игроков меньше 5, не допускаются к участию в чемпионате.

Реализовать функцию, которая на вход принимает структуру данных, описывающую чемпионат, и на выходе отдает такую же структуру, но отфильтрованную согласно описанным правилам.

### Составить пары игроков

Один из элементов игры -- парные забеги. Две команды выставляют по одному своих лучших игроков. Они должны проехать наперегонки 3 раза от своих ворот до ворот противника со штангой на плечах. Затем команды выставляют по следующему игроку, и т.д. Разрешается троллить и бодать противника.

Капитан команды решает, в какой очередности выставлять игроков. И это очень важное тактическое решение. Чтобы помочь капитану, нужно представить все возможные варианты составления пар.

Реализовать функцию, которая на вход принимает две структуры данных, описывающие команду, и возвращает все возможные комбинации пар игроков, такие что:

 - игроки должны быть из разных комманд;
 - сумма рейтингов пары игроков должна быть больше 600.

Вернуть нужно имена игроков, а не весь кортеж, представляющий игрока.

Например, для команд "Crazy Bulls" и "Cool Horses" допустимой парой будет {"Big Bull", "Sleepy Horse"}, а недопустимой парой будет {"Small Bull", "Sleepy Horse"}.

## Сбор статистики по исходникам проекта

Допустим, у нас есть репозиторий некоего проекта. Мы хотим собрать статистику, какие языки программирования используются и сколько кода написано на каждом языке.

Нужно реализовать функцию `CodeStat.analyze/1`, которая принимает каталог в файловой системе, и возвращает результат в виде map:

```elixir
 %{
   "Elixir" => %{files: 2, lines: 7, size: 58},
   "Python" => %{files: 1, lines: 2, size: 13},
   "JavaScript" => %{files: 1, lines: 3, size: 32},
   "SQL" => %{files: 1, lines: 1, size: 3}
 }
```

То есть, по каждому языку собирается информация:
- количество файлов;
- количество строк кода;
- общий размер кода в байтах.

В модуле `CodeStat` определено, какие языки поддерживаются, и какие расширения файлов им соответствуют:

```elixir
@types [
    {"Elixir", [".ex", ".exs"]},
    {"Erlang", [".erl"]},
    {"Python", [".py"]},
    ...
    {"Scripts", [".sh", ".lua", ".j2"]},
    {"Configs", [".yaml", ".yml", ".conf", ".args", ".env"]},
    {"Docs", [".md"]}
  ]
```

Определено, какие файлы и каталоги нужно игнорировать при сборе статистики:

```elixir
@ignore_names [".git", ".gitignore", ".idea", "_build", "deps", "log", "tmp", ".formatter.exs"]
```

какие расширения файлов нужно игнорировать:

```elixir
@ignore_extensions [".beam", ".lock", ".iml", ".log", ".pyc"]
```

и указана максимальная глубина рекурсивного обхода каталогов:

```elixir
@max_depth 5
```

Все это нужно учитывать при сборе статистики.

Тесты к этому заданию создают временный каталог и наполняют его файлами с определенным содержанием. Но гораздо интереснее отлаживать CodeStat на исходниках реального проекта :)
